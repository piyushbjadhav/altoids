<script src="../bower_components/time-elements/time-elements.js"></script>
<link rel="import" href="../bower_components/font-roboto/roboto.html">
<polymer-element name="event-element" attributes="heading background user location upvote downvote content topic">
<template>
<style>
:host {
display: block;
position: relative;
width: 100%;
border-bottom: 1.5px solid #e0e0e0;
font-size: 16px;
z-index: 0;
min-height: 250px;
font-family: RobotoDraft, 'Helvetica Neue', Helvetica, Arial;

}
.user-list {
padding: 16px;
color: white;
font-weight: bold;
max-width: 100%;
min-height: 250px;
font-family: RobotoDraft, 'Helvetica Neue', Helvetica, Arial;

}

.status {
position: absolute;
bottom: -3px;
right: -3px;
border-radius: 50%;
width: 14px;
height: 14px;
background-color: #7EDF25;
display: none;
font-family: RobotoDraft, 'Helvetica Neue', Helvetica, Arial;

}
.status.online {
display: block;
}
.user {
text-transform: capitalize;
font-weight: 500;
color: #ffffff;
line-height: 1.3em;
max-width: 90%;
text-overflow: ellipsis;
overflow: hidden;
white-space: nowrap;
text-align: center;
}
.timestamp {
font-size: 0.75em;
color: #919191;
}

}
  paper-fab.pink
  {
    background-color: #CC6699;
    font-family: RobotoDraft, 'Helvetica Neue', Helvetica, Arial;

  }

    
</style>

<section class="user-list" layout horizontal center style ='background: linear-gradient(rgba(0,0,0,0.5),rgba(0,0,0,0.5)) ,url({{background}}) center;font-family: RobotoDraft, 'Helvetica Neue', Helvetica, Arial'>
  
  <div style='position:absolute;top:10px'class= "user"> 
      <time is="relative-time" datetime="{{timestamp}}"></time>

  </div> 
  <div style ='position:absolute;top:80px;left:30%;font-size:large;width:50%;word-wrap: break-word;text-align:center'>{{heading}}</div> 
  <div style ='position:absolute;top:125px;left:30%;width:50%;word-wrap:break-word;text-align:center' class="text">{{content}}</div>

  <paper-icon-button icon='room' role='button' aria-label='location' style='position:absolute;left:5px;bottom:15px'> </paper-icon-button>
  <span style='position:absolute;left:37px;bottom:23px' class = "user">{{location}}</span>
  <paper-fab  style='position:absolute;right:10px;top:15px' mini icon='{{val}}' class="pink" title="create" on-tap ='{{upvotechanged}}'>  </paper-fab>
   <div style='position:absolute;right:25px;top:62px'>{{upvote}}</div>
  

</section>
</template>
<script>
Polymer('event-element', {
heading: '',
background: '',
user: '',
location: '',
upvote: 0,
val:'star-outline',
upvoted:false,
upvotechanged:function(event,detail,sender){
  if(!this.upvoted)
    {
      this.upvote = this.upvote+1;
      this.val='star';
      this.upvoted=true;
    }
    else
    {
      this.upvote = this.upvote-1;
      this.val='star-outline';
      this.upvoted=false;
    }

  },
content: '',
topic: '',
timestamp: new Date().toISOString(),

});


</script>